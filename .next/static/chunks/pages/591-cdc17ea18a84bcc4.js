(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[723],{1389:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/591",function(){return n(3358)}])},3358:function(e,i,n){"use strict";n.r(i);var a=n(5893),d=n(7294),o=n(7066),t=n(1163);n(6501);let s={taipei:[{name:"中正區",id:1},{name:"大同區",id:2},{name:"中山區",id:3},{name:"松山區",id:4},{name:"大安區",id:5},{name:"萬華區",id:6},{name:"信義區",id:7},{name:"士林區",id:8},{name:"北投區",id:9},{name:"內湖區",id:10},{name:"南港區",id:11},{name:"文山區",id:12}],newTaipei:[{name:"板橋區",id:26},{name:"三重區",id:43},{name:"中和區",id:38},{name:"永和區",id:37},{name:"新莊區",id:44},{name:"新店區",id:34},{name:"樹林區",id:41},{name:"鶯歌區",id:42},{name:"三峽區",id:40},{name:"淡水區",id:50},{name:"汐止區",id:27},{name:"瑞芳區",id:30},{name:"萬里區",id:20},{name:"金山區",id:21},{name:"貢寮區",id:33},{name:"石門區",id:52},{name:"雙溪區",id:32},{name:"石碇區",id:29},{name:"坪林區",id:35},{name:"烏來區",id:36},{name:"平溪區",id:31}]};i.default=()=>{let[e,i]=(0,d.useState)(null),n=(0,t.useRouter)();(0,d.useEffect)(()=>{let e=localStorage.getItem("user");if(e){let n=JSON.parse(e);i(n.id),console.log("userid",n.id)}else n.push("/login")},[]);let[r,c]=(0,d.useState)([]),l=e=>{console.log("district",e),c(i=>i.includes(e.id)?i.filter(i=>i!==e.id):[...i,e.id])},m=async()=>{let i=Object.keys(s).find(e=>s[e].some(e=>r.includes(e.id)));console.log("region",i);try{let n=await o.Z.post("/api/updatePreferences",{region:"taipei"===i?"1":"3",sectionid:r.join(","),minPrice:"10000",maxPrice:"20000",userId:e});console.log("Preferences updated:",n.data)}catch(e){console.error("Error updating preferences:",e)}};return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-12 bg-gray-100",children:[(0,a.jsx)("h1",{className:"text-5xl font-extrabold text-center mb-12 text-indigo-700",children:"租屋搜尋"}),(0,a.jsx)("div",{className:"mb-10",children:(0,a.jsx)("input",{type:"text",placeholder:"搜索關鍵字",className:"w-full p-4 border-2 border-indigo-300 rounded-full shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition duration-300"})}),(0,a.jsx)("div",{className:"grid md:grid-cols-2 gap-12",children:["台北市","新北市"].map((e,i)=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-indigo-200",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-6 text-indigo-600",children:e}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:s[0===i?"taipei":"newTaipei"].map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[(0,a.jsx)("input",{type:"checkbox",checked:r.includes(e.id),onChange:()=>l(e),className:"form-checkbox h-5 w-5 text-indigo-600 transition duration-150 ease-in-out"}),(0,a.jsx)("span",{className:"text-gray-700 group-hover:text-indigo-500 transition duration-150",children:e.name})]},e.id))})]},e))}),(0,a.jsx)("button",{className:"mt-12 w-full bg-indigo-600 text-white p-4 rounded-full hover:bg-indigo-700 transition-colors duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50 shadow-lg",onClick:()=>m(),children:"搜索房屋"})]})}},6501:function(){},1163:function(e,i,n){e.exports=n(6036)}},function(e){e.O(0,[66,709,888,774,179],function(){return e(e.s=1389)}),_N_E=e.O()}]);